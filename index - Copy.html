<!DOCTYPE html>
<html lang="en">
<head>
  <title>Algorithmic Trading (TensorFlow.js)</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script> -->
  <!-- <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script> -->
  
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <!-- <link type="text/css" rel="stylesheet" href="css/materialize.min.css"  media="screen,projection"/> -->
  <link href="css/style.css" type="text/css" rel="stylesheet" media="screen,projection"/>
  <link href="css/materialize.min.css" type="text/css" rel="stylesheet" media="screen,projection"/>
  <!-- <link href="css2/style.css" type="text/css" rel="stylesheet" media="screen,projection"/> -->

  <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css"> -->

  <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css"> -->

  <link href="https://cdn.jsdelivr.net/npm/mc-datepicker/dist/mc-calendar.min.css" rel="stylesheet" />

  <script src="https://cdn.jsdelivr.net/npm/mc-datepicker/dist/mc-calendar.min.js"></script>
</head>
<body>


  <header class="main-header">
    <div class="primary-overlay">
      <div class="navbar-fixed">
        <nav class="transparent">
          <div class="container">
            <div class="nav-wrapper">
              <a href="#home" class="brand-logo">BizLand</a>
              <a href="#" data-activates="mobile-nav" class="button-collapse">
                <i class="material-icons">menu</i>
              </a>
              <ul class="right hide-on-med-and-down">
                <li>
                  <a href="#home">Home</a>
                </li>
                <li>
                  <a href="#about">About</a>
                </li>
                <li>
                  <a href="#testimonials">Testimonials</a>
                </li>
                <li>
                  <a href="#contact">Contact</a>
                </li>
                <li>
                  <a href="#" class="btn blue">Download</a>
                </li>
              </ul>
            </div>
          </div>
        </nav>
      </div>
      <!-- Side nav -->
      <ul class="side-nav" id="mobile-nav">
        <h4 class="blue-grey darken-3 center">BizLand</h4>
        <li>
          <a class="divider"></a>
        </li>
        <li>
          <a href="#home">Home</a>
        </li>
        <li>
          <a href="#about">About</a>
        </li>
        <li>
          <a href="#testimonials">Testimonials</a>
        </li>
        <li>
          <a href="#contact">Contact</a>
        </li>
      </ul>
      <!-- Showcase -->
      <div class="showcase container">
        <div class="row">
          <div class="col s12 main-text">
            <h5>You found the...</h5>
            <h1>Right Place To Start</h1>
            <p class="flow-text">To take your business to the next level with our services that have taken companies to the fortune 500</p>
            <br>
            <a href="#about" class="btn btn-large white black-text">Learn More</a>
            <a href="#contact" class="white-text">
              <i class="material-icons medium scroll-icon">arrow_drop_down_circle</i>
            </a>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- INTRO -->
  <div class="section" style="background-color:#e6e6e6">

    <div class="container">
      <h3 class="header">Time Series Forecasting with TensorFlow.js</h3>
      <p class="flow-text">
        Pull stock prices from online API or downloaded open csv file and perform predictions using Recurrent Neural Network and Long Short-Term Memory (LSTM) with TensorFlow.js framework
      </p>
      
    </div>
  </div>

  <!-- DATA -->
  <div class="section" style="background-color:#ffebee" id="div_data">
    <div class="container">
      <h1 class="header">Get Stocks Data</h1>
      <p class="lead">

      </p>
      <p>
        <!-- [purpose of this step, fun for the reader] -->
        Before we can train our neural network and make any predictions, we will first require data. The type of data we are looking for is time series: a sequence of numbers in chronological order. A good starting place to fetch these data is from <a href="https://www.alphavantage.co" target="_blank">alphavantage.co</a>. This API allows us to retrieve chronological data on specific company stocks prices from the last 20 years.
      </p>
      <p>
        The API yields the following fields:
        <ol>
          <li>open price</li>
          <li>highest price of that day</li>
          <li>lowest price of that day</li>
          <li>closing price</li>
          <li>volume</li>
        </ol>
      </p>
      <p>
        To prepare training dataset for our neural network, we will be using closing stocks price; which also means that we will be aiming to predict future closing price.
      </p>
      <p>
        <!-- [how to use, what you want your reader to do after you end, as simple and obvious] -->
        Use <i>demo</i> API key to fetch <i>Microsoft Corporation</i> prices or <a href="https://www.alphavantage.co/support/#api-key" target="_blank">get your own API key</a> for other stocks.
      </p>
    </div>

    <div class="container" >

    <div class="row" id="div_container_getdata">
      <div class="col m4">
        <div class="input-field col s12">
          <label for="input_ticker">Ticker Symbol</label>
          <input type="text" id="input_ticker" placeholder="example: MSFT" value="MSFT">
          <small class="form-text text-muted">Demo API key only allows 'MSFT'</small>
        </div>
      </div>
      <div class="col m4">
        <div class="input-field col s12">
          <label for="input_apikey">Alpha Vantage API Key</label>
          <input type="text" id="input_apikey" placeholder="Input your API key or use 'demo'" value="demo">
          <small class="form-text text-muted">You can claim your API key from <a href="https://www.alphavantage.co/support/#api-key" target="_blank">alphavantage.co</a></small>
        </div>
      </div>

    </div>      

      
      <div class="row">
      <div class="col m4">
        <div class="input-field col s12">
          <label for="start_date">Start date</label>
          <input type="text" class="" id="start_date" placeholder="Select date">
        </div>
      </div>
      <div class="col m4">
        <div class="input-field col s12">
          <label for="end_date">End date</label>
          <input type="text" class="" id="end_date" placeholder="Select date">
        </div>
      </div>
      </div>
        
        <div style="display: none;" id="invalidOpt"><p>Please choose valid options</p></div>
      
      <div class="col s12">
        <button class="waves-effect waves-light btn" id="btn_fetch_data" onclick="onClickFetchData()"
        >Fetch Data</button>
        <!-- <div class="spinner-border" id="load_fetch_data" style="display:none"></div> -->

        <div class="preloader-wrapper small active" id="load_fetch_data" style="display:none ;">
          <div class="spinner-layer spinner-green-only">
            <div class="circle-clipper left">
              <div class="circle"></div>
            </div><div class="gap-patch">
              <div class="circle"></div>
            </div><div class="circle-clipper right">
              <div class="circle"></div>
            </div>
          </div>
        </div>

      </div>
      <!-- style="margin-top:5px; width:160px"  2ndvid  pointer;" -->
      <!-- <div class="file-field input-field col s12 m1" style="margin-bottom: 5px; width:160px; position: absolute; bottom: 10px; left: 0"> 
            <div class="btn waves-light" style="height:36px; line-height:2.5rem;">
              <span style="cursor: pointer">Pick CSV</span>
              <input id="uploadcsv" type="file">
            </div>
          </div> -->
      
        <div class="row">
          <div class="file-field input-field col s12 m1" style="margin-bottom: 5px; width:160px; "> 
            <div class="btn waves-light" style="height:36px; line-height:2.5rem;">
              <span style="cursor: pointer">Pick CSV</span>
              <input id="uploadcsv" type="file">
            </div>
          </div>
        </div>
  </div>

  </div>

  <!-- GRAPH -->
  <div class="section" style="background-color:#e3f2fd" id="div_sma">
    <div class="container">
      <h1 class="header">Graph</h1>
      <div class="row" style="padding-left:10px;padding-right:10px">
        <div class="col s12 m12">
          <div id="div_output" ></div>

          <h3 id="graphAlt" style="display: none;">Please open csv or fetch data from API</h3>
        </div>
    </div>

      <div class="row" style="">
    
      <div id="div_loss" class="col s12 m4" style="height: 250px;margin: 50px 80px 0 0;"></div>
    
    <div class="col s12 m4" id="log" style="height: 150px; overflow:auto; margin: 80px auto 0;"></div>
  </div>

      
      
    </div>

    
  </div>

  <!-- TRAIN -->
  <div class="section" style="background-color:#fffa65" id="div_train">
    <div class="container">
      <h1 class="header">Train Neural Network</h1>
      
      <div class="row center">
          <div class="input-field col m2 offset-m1" style="margin-left:5.33%">
            Neural Network settings
          </div>
          <div class="input-field col s12 m1">
            <input id="learningrate" type="number" placeholder="Eg: 0.001" class="validate tooltipped" data-position="bottom" data-delay="50" data-tooltip="learning rate during training">
            <label class="active">Learning rate</label>
          </div>
          <div class="input-field col s12 m1">
            <input id="inputdropoutrate" type="number" placeholder="Eg: 0.9" class="validate tooltipped" data-position="bottom" data-delay="50" data-tooltip="dropout rate for LSTM input">
            <label class="active">Input dropout rate</label>
          </div>
          <div class="input-field col s12 m1">
            <input id="outputdropoutrate" type="number" placeholder="Eg: 0.9" class="validate tooltipped" data-position="bottom" data-delay="50" data-tooltip="dropout rate for LSTM output">
            <label class="active">Output dropout rate</label>
          </div>
          <div class="input-field col s12 m1">
            <input id="timestamp" type="number" class="validate tooltipped" placeholder="Eg: 5" data-position="bottom" data-delay="50" data-tooltip="Trends for every minibatch">
            <label class="active">Timestamp per training</label>
          </div>
          <div class="input-field col s12 m1">
            <input id="sizelayer" type="number" class="validate tooltipped" placeholder="Eg: 64" data-position="bottom" data-delay="50" data-tooltip="LSTM size">
            <label class="active">Size layer</label>
          </div>
          <div class="input-field col s12 m1">
            <input id="epoch" type="number" class="validate tooltipped" placeholder="Eg: 10" data-position="bottom" data-delay="50" data-tooltip="Total epoch">
            <label class="active">Training Iteration</label>
          </div>
          <div class="input-field col s12 m1">
            <input id="future" type="number" class="validate tooltipped" placeholder="Eg: 10" data-position="bottom" data-delay="50" data-tooltip="number of days forecast">
            <label class="active">Future days to forecast</label>
          </div>
          <div class="input-field col s12 m1">
            <input id="smooth" type="number" class="validate tooltipped" placeholder="Eg: 10" data-position="bottom" data-delay="50" data-tooltip="Rate anchor smoothing for trends">
            <label class="active">Smoothing weights</label>
          </div>
        </div>

        <div class="row center">
          <div class="input-field col m2 offset-m1" style="margin-left:5.33%">
            Buying & Selling simulation
          </div>
          <div class="input-field col s12 m2">
            <input id="initialmoney" type="number" placeholder="Eg: 10000" class="validate tooltipped" data-position="bottom" data-delay="50" data-tooltip="Money in for simulation">
            <label class="active">Initial money(usd)</label>
          </div>
          <div class="input-field col s12 m2">
            <input id="maxbuy" type="number" placeholder="Eg: 5" class="validate tooltipped" data-position="bottom" data-delay="50" data-tooltip="Max unit to buy">
            <label class="active">Max buy(unit)</label>
          </div>
          <div class="input-field col s12 m2">
            <input id="maxsell" type="number" class="validate tooltipped" placeholder="Eg: 10" data-position="bottom" data-delay="50" data-tooltip="Max unit to sell">
            <label class="active">Max sell(unit)</label>
          </div>
          <div class="input-field col s12 m2">
            <input id="history" type="number" class="validate tooltipped" placeholder="Eg: 5" data-position="bottom" data-delay="50" data-tooltip="MA to compare of">
            <label class="active">Historical rolling</label>
          </div>
        </div>
        <div class="row center">
        <div class="input-field col s12 m1 left" style="margin-top:5px; width:160px; display: inline-block;">
            <button id="trainbutton" class="waves-effect waves-light btn ">Train</button>
        </div>
        
          <div class="input-field col s12 m1 left" style="margin-top:5px; width:160px">
            <button id="suggestbutton" class="waves-effect waves-light btn">Suggest</button>
          </div>
        
        </div>
    </div>
  </div>

  <!-- PREDICT -->
  <div class="section" style="background-color:#fffde7">
    <div class="container">
      <h1 class="header">Simulation log</h1>
      
      
    <div class="row center">
    <div class="col s12 m12 l12">
      <div class="card blue-grey darken-1">
        <div class="card-content white-text">
            <table class="bordered highlight">
          <thead>
            <tr>
              <th>Date</th>
              <th>Action</th>
              <th>Price</th>
              <!-- <th>Investment</th> -->
              <th>Balance</th>
            </tr>
          </thead>
          <tbody id='table-body'>
          </tbody>
        </table>
        </div>
        <div class="card-action white-text">
          <span id="log-invest"></span>
        </div>
      </div>
    </div>
  </div>
     <!--  <div class="row">
        <div class="col s12">
          

        </div>
      </div> -->

      <!-- <div class="row" id="div_container_predict" style="display:none">
        <div class="col s12">
          <p> -->
            <!-- [how to use, what you want your reader to do after you end, as simple and obvious] -->
           <!--  Hit the <i>Make Prediction</i> button to see how this model performs. Whohoo!
          </p>
        </div>
        <div class="col s6">
          <button class="waves-effect waves-light btn" id="btn_makeprediction" onclick="onClickPredict()">Make Prediction</button>
          <div class="spinner-border" id="load_predicting" style="display:none"></div>
        </div>
      </div>
      <div class="row" id="div_container_predicting" style="display:none">
        <div class="col s12">
          <div class="card z-depth-5">
            <div class="card-content">
              <span class="card-title activator grey-text text-darken-4" id="div_predict_title">Predict Results</span>
              <div id="div_predict_graph"></div>
            </div>
          </div>
        </div>
      </div> -->

    </div>
  </div>

  <footer class="page-footer">
    <div class="container">
      <div class="row" style="margin-bottom:0px">
        <div class="col s12">
          <p class="grey-text text-lighten-5">
            <a class="grey-text text-lighten-5" target="_blank" href="https://github.com/lonedune/tfjs-stocks">View Code on GitHub</a> |
            <a class="grey-text text-lighten-5" target="_blank" href="https://www.linkedin.com/in/jingles/">Reach me on LinkedIn</a> |
            <a class="grey-text text-lighten-5" target="_blank" href="https://towardsdatascience.com/time-series-forecasting-with-tensorflow-js-1efd48ff2201">Read article on Towards Data Science</a>
          </p>
        </div>
      </div>
    </div>

  </footer>

  <script src="js/tf.js"></script>
<!-- <script src="js/jquery-3.6.0.js"></script> -->
<!-- <script src="js/materialize.min.js"></script> -->
<script src="js/jquery-3.3.1.min.js"></script>
<script src="js/materialize.min.js"></script>
<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.min.js"></script> -->
<script src="js/d3.v3.min.js"></script>
<script src="js/numeric-1.2.6.min.js"></script>
<script src="js/numjs.min.js"></script>
<script src="js/utils.js"></script>
<script src="js/echarts.min.js"></script>
<script src="js/echarts-gl.min.js"></script>
<script src="js/papaparse.min.js"></script>
<!-- <script src="data/google.js"> </script> -->
<script src="init.js"> </script>
<script>
  $(document).ready(function(){
    // $('.datepicker').datepicker();
    
     $(".button-collapse").sideNav();
  });
   
</script>

</body>
</html>
