<!DOCTYPE html>
<html lang="en">
<head>
  <title>Algorithmic Trading (TensorFlow.js)</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script> -->
  <!-- <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script> -->
  
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <!-- <link type="text/css" rel="stylesheet" href="css/materialize.min.css"  media="screen,projection"/> -->
  <link href="css/style.css" type="text/css" rel="stylesheet" media="screen,projection"/>
  <link href="css/materialize.min.css" type="text/css" rel="stylesheet" media="screen,projection"/>
  <!-- <link href="css2/style.css" type="text/css" rel="stylesheet" media="screen,projection"/> -->

  <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css"> -->

  <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css"> -->

  <link href="https://cdn.jsdelivr.net/npm/mc-datepicker/dist/mc-calendar.min.css" rel="stylesheet" />

  <script src="https://cdn.jsdelivr.net/npm/mc-datepicker/dist/mc-calendar.min.js"></script>
</head>
<body id="intro" class="scrollspy">


  <header class="main-header">
    <div class="primary-overlay">
      <div class="navbar-fixed">
        <nav class="transparent">
          <div class="container">
            <div class="nav-wrapper">
              <a href="#intro" class="brand-logo"> 
                
                <i class="material-icons" style="font-size: 40px">
                  trending_up
                  </i></a>
                
              <a href="#" data-activates="mobile-nav" class="button-collapse">
                <i class="material-icons">menu</i>
              </a>
              <ul class="right hide-on-med-and-down">
                
                <li>
                  <a href="#intro">About</a>
                </li>
                <li>
                  <a href="#data">Get Data</a>
                </li>
                <li>
                  <a href="#graph">Charts</a>
                </li>
                <li>
                  <a href="#train">Train model</a>
                </li>
                <li>
                  <a href="#simulation_log">Simulation logs</a>
                </li>
                <li>
                  <a href="#read_more">References</a>
                </li>
              </ul>
            </div>
          </div>
        </nav>
      </div>
      <!-- Side nav -->
      <ul class="side-nav" id="mobile-nav">
        <h4 class="blue-grey-text darken-3 center">
          <img src="images/bermuda-368.png" style="width: 70px">
        </h4>
        
          <div class="divider"></div>
        
        <li>
          <a href="#intro">About</a>
        </li>
        <li>
          <a href="#data">Get Data</a>
        </li>
        <li>
          <a href="#graph">Charts</a>
        </li>
        <li>
          <a href="#train">Train model</a>
        </li>
        <li>
          <a href="#simulation_log">Simulation logs</a>
        </li>
        <li>
         <a href="#read_more">References</a>
        </li>
      </ul>
      <!-- Showcase -->
      <div class="showcase container">
        <div class="row">
          <div class="col s12 main-text">
            
            <h1>Algorithmic Trading</h1>
            <p class="flow-text">Pull stock prices from online API or downloaded open csv file and perform predictions using Recurrent Neural Network and Long Short-Term Memory (LSTM) with TensorFlow.js framework</p>
            <br>
            <a href="#https://github.com/VijayGohel/fyp2" class="btn btn-large white black-text">Source code</a>
            
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- INTRO -->
  <!-- <div id="intro" class="section scrollspy" style="background-color:#e6e6e6">

    <div class="container">
      <h3 class="header">Time Series Forecasting with TensorFlow.js</h3>
      <p class="flow-text">
        Pull stock prices from online API or downloaded open csv file and perform predictions using Recurrent Neural Network and Long Short-Term Memory (LSTM) with TensorFlow.js framework
      </p>
      
    </div>
  </div> -->

  <!-- DATA -->
  <div class="section scrollspy "  id="data" style="background-color: #576574; color: #ecf0f1">
    <div class="container">
      <h4 >Get Stocks Data</h4>
        
      
      <p>
        To prepare training dataset for our neural network, we will be using closing stocks price; which also means that we will be aiming to predict future closing price.
      </p>
      <p>
        <!-- [how to use, what you want your reader to do after you end, as simple and obvious] -->
        Get API key from <a style="color: white" href="https://www.alphavantage.co/support/#api-key" target="_blank">alphavantage.co</a>
      </p>
    </div>

    <div class="container" >

    <div class="row" id="div_container_getdata">
      <div class="col m4">
        <div class="input-field col s12">
          <label for="input_ticker">Ticker Symbol</label>
          <input type="text" id="input_ticker" placeholder="example: MSFT" value="MSFT">
          
        </div>
      </div>
      <div class="col m4">
        <div class="input-field col s12">
          <label for="input_apikey">Alpha Vantage API Key</label>
          <input type="text" id="input_apikey" placeholder="Input your API key or use 'demo'" value="demo">
          
        </div>
      </div>

    </div>      

      
      <div class="row">
      <div class="col m4">
        <div class="input-field col s12">
          <label for="start_date">Start date</label>
          <input type="text" class="" id="start_date" placeholder="Select date">
        </div>
      </div>
      <div class="col m4">
        <div class="input-field col s12">
          <label for="end_date">End date</label>
          <input type="text" class="" id="end_date" placeholder="Select date">
        </div>
      </div>
      </div>
        
        <div style="display: none;" id="invalidOpt"><p>Please choose valid options</p></div>
      
      <div class="col s12">
        <button class="waves-effect waves-light btn" id="btn_fetch_data" onclick="onClickFetchData()"
        >Fetch Data</button>
        <!-- <div class="spinner-border" id="load_fetch_data" style="display:none"></div> -->

        <div class="preloader-wrapper small active" id="load_fetch_data" style="display:none ;">
          <div class="spinner-layer spinner-green-only">
            <div class="circle-clipper left">
              <div class="circle"></div>
            </div><div class="gap-patch">
              <div class="circle"></div>
            </div><div class="circle-clipper right">
              <div class="circle"></div>
            </div>
          </div>
        </div>

      </div>
      <!-- style="margin-top:5px; width:160px"  2ndvid  pointer;" -->
      <!-- <div class="file-field input-field col s12 m1" style="margin-bottom: 5px; width:160px; position: absolute; bottom: 10px; left: 0"> 
            <div class="btn waves-light" style="height:36px; line-height:2.5rem;">
              <span style="cursor: pointer">Pick CSV</span>
              <input id="uploadcsv" type="file">
            </div>
          </div> -->
        

        <div class="row">
          <p style="margin: 30px 0 10px 10px">If you have already downloaded csv file of stock data</p>
          <div class="file-field input-field col s12 m1" style="margin-bottom: 5px; width:160px; "> 
            
            <div class="btn waves-light" style="height:36px; line-height:2.5rem;">
              <span style="cursor: pointer">Pick CSV</span>
              <input id="uploadcsv" type="file">
            </div>
          </div>
        </div>
  </div>

  </div>

  <!-- CHARTS -->
  <div class="section scrollspy" style="background-color:#d3e0ea" id="graph">
    <div class="container">
      <h4 >Charts</h4>
      <div class="row" style="padding-left:10px;padding-right:10px">
        <div class="col s12 m12">
          <div id="div_output" ></div>

          <p class="flow-text" id="graphAlt" style="display: none;">Please select csv file or fetch data from API</p>
        </div>
    </div>

      <div class="row">
    
      <div id="div_loss" class="col s12 m4" ></div>
    
    <div class="col s12 m4" id="log" ></div>
  </div>

      
      
    </div>

    
  </div>

  <!-- TRAIN -->
  <div class="section scrollspy" style="background-color:#456268;color: #ecf0f1" id="train">
    <div class="container">
      <h4 class="">Train Neural Network</h4>


      <div class="row">
        <div class="input-field col m3 l3 s12" >
            Neural Network settings
        </div>

      <div class="col l9 m9 s12">


      <div class="row">
          
          <div class="input-field col s12 m3 l3">
            <input id="learningrate" type="number" placeholder="Eg: 0.001" class="validate tooltipped" data-position="bottom" data-delay="50" data-tooltip="learning rate during training">
            <label class="active">Learning rate</label>
          </div>
          <div class="input-field col s12 m3 l3">
            <input id="inputdropoutrate" type="number" placeholder="Eg: 0.9" class="validate tooltipped" data-position="bottom" data-delay="50" data-tooltip="dropout rate for LSTM input">
            <label class="active">Input dropout rate</label>
          </div>
          <div class="input-field col s12 m3 l3">
            <input id="outputdropoutrate" type="number" placeholder="Eg: 0.9" class="validate tooltipped" data-position="bottom" data-delay="50" data-tooltip="dropout rate for LSTM output">
            <label class="active">Output dropout rate</label>
          </div>
          <div class="input-field col s12 m3 l3">
            <input id="timestamp" type="number" class="validate tooltipped" placeholder="Eg: 5" data-position="bottom" data-delay="50" data-tooltip="Trends for every minibatch">
            <label class="active">Timestamp per training</label>
          </div>
        </div>
        <div class="row">

          <div class="input-field col s12 m3 l3">
            <input id="sizelayer" type="number" class="validate tooltipped" placeholder="Eg: 64" data-position="bottom" data-delay="50" data-tooltip="LSTM size">
            <label class="active">Size layer</label>
          </div>
          <div class="input-field col s12 m3 l3">
            <input id="epoch" type="number" class="validate tooltipped" placeholder="Eg: 10" data-position="bottom" data-delay="50" data-tooltip="Total epoch">
            <label class="active">Training Iteration</label>
          </div>
          <div class="input-field col s12 m3 l3">
            <input id="future" type="number" class="validate tooltipped" placeholder="Eg: 10" data-position="bottom" data-delay="50" data-tooltip="number of days forecast">
            <label class="active">Future days to forecast</label>
          </div>
          <div class="input-field col s12 m3 l3">
            <input id="smooth" type="number" class="validate tooltipped" placeholder="Eg: 10" data-position="bottom" data-delay="50" data-tooltip="Rate anchor smoothing for trends">
            <label class="active">Smoothing weights</label>
          </div>
        </div>

        </div>
        </div>

        <div class="row">
          <div class="input-field col s12 m3 l3 " >
            Buying & Selling simulation
          </div>

          <div class="col s12 m9 l9">
          <div class="input-field col s12 m3 l3">
            <input id="initialmoney" type="number" placeholder="Eg: 10000" class="validate tooltipped" data-position="bottom" data-delay="50" data-tooltip="Money in for simulation">
            <label class="active">Initial money(usd)</label>
          </div>
          <div class="input-field col s12 m3 l3">
            <input id="maxbuy" type="number" placeholder="Eg: 5" class="validate tooltipped" data-position="bottom" data-delay="50" data-tooltip="Max unit to buy">
            <label class="active">Max buy(unit)</label>
          </div>
          <div class="input-field col s12 m3 l3">
            <input id="maxsell" type="number" class="validate tooltipped" placeholder="Eg: 10" data-position="bottom" data-delay="50" data-tooltip="Max unit to sell">
            <label class="active">Max sell(unit)</label>
          </div>
          <div class="input-field col s12 m3 l3">
            <input id="history" type="number" class="validate tooltipped" placeholder="Eg: 5" data-position="bottom" data-delay="50" data-tooltip="MA to compare of">
            <label class="active">Historical rolling</label>
          </div>
        </div>
        </div>

        <div class="row center">
        <div class="input-field col s12 m1 left" style="margin-top:5px; width:160px; display: inline-block;">
            <button id="trainbutton" class="waves-effect waves-light btn ">Train</button>
        </div>
        
          <div class="input-field col s12 m1 left" style="margin-top:5px; width:160px">
            <button id="suggestbutton" class="waves-effect waves-light btn">Suggest</button>
          </div>
        
        </div>
    </div>
  </div>


  <!-- Simulation log   -->
  <div class="section scrollspy" id="simulation_log" style="background-color:#c8d6e5">  
    <div class="container">
      <h4 >Simulation logs</h4>
      
       <p class="flow-text" id="tableAlt" style="display: none;margin: 30px 0 40px 10px">Please train model to see algorithmic trading simulation logs</p>
      
    <div class="row center" id="simulation_table">
    <div class="col s12 m12 l12">
      <div class="card blue-grey lighten-1">
        <div class="card-content white-text">
            <table class="bordered">
          <thead>
            <tr>
              <th>Date</th>
              <th>Action</th>
              <th>Price</th>
              <!-- <th>Investment</th> -->
              <th>Balance</th>
            </tr>
          </thead>
          <tbody id='table-body'>
          </tbody>
        </table>
        </div>
        <div class="card-action white-text">
          <span id="log-invest"></span>
        </div>
      </div>
    </div>
  </div>
     <!--  <div class="row">
        <div class="col s12">
          

        </div>
      </div> -->

      <!-- <div class="row" id="div_container_predict" style="display:none">
        <div class="col s12">
          <p> -->
            <!-- [how to use, what you want your reader to do after you end, as simple and obvious] -->
           <!--  Hit the <i>Make Prediction</i> button to see how this model performs. Whohoo!
          </p>
        </div>
        <div class="col s6">
          <button class="waves-effect waves-light btn" id="btn_makeprediction" onclick="onClickPredict()">Make Prediction</button>
          <div class="spinner-border" id="load_predicting" style="display:none"></div>
        </div>
      </div>
      <div class="row" id="div_container_predicting" style="display:none">
        <div class="col s12">
          <div class="card z-depth-5">
            <div class="card-content">
              <span class="card-title activator grey-text text-darken-4" id="div_predict_title">Predict Results</span>
              <div id="div_predict_graph"></div>
            </div>
          </div>
        </div>
      </div> -->

    </div>
  </div>

  <footer class="page-footer scrollspy blue-grey darken-4" id="read_more" style="padding-bottom: 17px">
    <div class="container">
      <div class="row" style="margin-bottom: 0">
        <div class="col s12" style="line-height: 2">
          
            <a class="grey-text text-lighten-5" target="_blank" href="https://github.com/VijayGohel/fyp2">View Code on GitHub</a> <br>
            <a class="grey-text text-lighten-5" target="_blank" href="https://www.programmersought.com/article/28024346735/">Programmersought's article</a> <br>
            <a class="grey-text text-lighten-5" target="_blank" href="https://towardsdatascience.com/time-series-forecasting-with-tensorflow-js-1efd48ff2201">Read article on Towards Data Science</a><br>
            <a class="grey-text text-lighten-5" target="_blank" href="https://machinelearningmastery.com/how-to-develop-lstm-models-for-time-series-forecasting/">Article on LSTM</a>
        </div>
      </div>
    </div>

  </footer>

  <script src="js/tf.js"></script>
<!-- <script src="js/jquery-3.6.0.js"></script> -->
<!-- <script src="js/materialize.min.js"></script> -->
<script src="js/jquery-3.3.1.min.js"></script>
<script src="js/materialize.min.js"></script>
<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.min.js"></script> -->
<script src="js/d3.v3.min.js"></script>
<script src="js/numeric-1.2.6.min.js"></script>
<script src="js/numjs.min.js"></script>
<script src="js/utils.js"></script>
<script src="js/echarts.min.js"></script>
<script src="js/echarts-gl.min.js"></script>
<script src="js/papaparse.min.js"></script>
<!-- <script src="data/google.js"> </script> -->
<script src="init.js"> </script>
<script>
  $(document).ready(function(){
    // $('.datepicker').datepicker();
    
     $(".button-collapse").sideNav();


      const options = [
        {
          selector: '.main-text', offset: 0, callback: function (el) {
            Materialize.fadeInImage($(el));
          }
        },
        {
          selector: '.navbar-fixed', offset: 1500, callback: function () {
            $('nav').removeClass('transparent');
            $('nav').addClass('blue-grey darken-3');
          }
        }
      ];

      Materialize.scrollFire(options);

      $('.scrollspy').scrollSpy();
  });
   
</script>

</body>
</html>
